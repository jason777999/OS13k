<style>*{font-family:monospace;font-size:20;background:#000;color:#ccc}pre{display:inline}</style>
JS>&nbsp;<input id=i style=background:#222;color:#fff autocomplete=off>
<input id=c type=checkbox onclick=localStorage.OS13kCc=c.checked>
Clear Input
<input id=o type=checkbox onclick=localStorage.OS13kCo=o.checked>
Show Objects
<div id=w><br>Enter JS code. Try not to freeze the browser! ðŸ˜…</div>
<iframe id=f style=display:none></iframe>
<script>

// set os13k if available
f.contentWindow.OS13k=parent.OS13k

// focus on input
i.focus()

// set saved config
c.checked=localStorage.OS13kCc!='false'
o.checked=localStorage.OS13kCo!='false'

// listen for key down
i.onkeydown=E=>{

// check if enter was pressed
if(E.keyCode==13){

// try to eval code in parens first, fixes {1:2, 'x':'y'}
// save frozen input
try{r=f.contentWindow.eval(`(${localStorage.OS13kFrozen=i.value})`)}

// check if code was invalid
catch(e){

// set error message
r=e.message

// try to eval code without parens
try{r=f.contentWindow.eval(i.value)}

// check if code was invalid
catch(e){r=e.message;E=0}}

// save that code didn't freeze up
delete localStorage.OS13kFrozen

// build object info
s='<pre style=color:#0cc>{\n'
for(k in r)v=r[k],q=typeof v=='string'?'"':'',s+=`  ${k}: ${q}${v}${q}\n`

// show result
w.innerHTML=`<br><pre>JS> ${i.value}</pre><br><pre ${E?'':'style=color:#f00'}>${r}</pre><br>${(typeof r=='object')&o.checked&&E?s+'}</pre><br>':''}`+w.innerHTML

// clear input
c.checked?i.value='':0}}
</script>