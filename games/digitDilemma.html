<!--

The Digit Dilemma - A Tiny JavaScript Puzzle Game
Created by Frank Force 2019
License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.

Push numbers until none are left.
All puzzles are solvable!

Controls
 Arrows = Move
 Space = Undo

-->  
<html>
<head>
<title>Digit Dilemma - Push numbers until none are left. Arrows=Move Space=Undo</title>
<meta charset="utf-8">
</head>
<body style='overflow:hidden;user-select: none'>
<script>

// init shim variables 
b = document.body;
        
for(_='-1~%(w~)Z&&YfZYgZX]=Ww*V=[U0,0SVg+fR[RQmQ]P,PUS]OE(N,gKNw)J=JK=JGMath.F+H+H)BC(fA)|A@?0:=0;==eUS,S]+=Y(e[+k.slice(p=ll[r]R+VH?(W,++function(fK){=return );)2*N2)~t.length	L=f,y=gBfor(Vy+L]R]><bigQ+VP[0]+P[1]];gg<w;g)ff<w;f)=t[	~][i],var ,h,lU],mU],p,t,u=v,w,L,y;setInterval(if(!h){w=11>v?4+v:15;h=v;o1>o;){o=1E5;tU]=X~O;ii<w-8;)VJ+JW~;i--oYi<h;)if(fG,!(8<||0>||iY!YN1E3)||(k=(H=N2,r=R,I=R-VH-k,]))){;N10)Y0+VH];gH,fki||(;AKB0<I]YI]!=):!N5)Yi=~):(W,i),}}!AG)L=f;y=g}f=2]-i];g=3]-1];32]Y	lmLyht=t0,~)R+?0<R+t[	]Ul),m),L,y,h],mQ+Ug,f]):(,Lf,yg,=-2uP[0]|P[1]YXY!((f+g+u/4)%2)n=l,n?(--h,l=n~,):1>nl=,m>n?[S]:P,)Oi="<pre><b><center>"i0>=?".#\\u263b"[-]:,fw~i"<br>"b.innerHTML=i+v;},16CpQ]fLYgy?1:(pQW1)&A+1K@~K@K~@K+1)};b.onkeydown=f.keyCode%37W1};EFfloor(1E6*Frandom())%f};';G=/[^ -?CEHILMT[-}]/.exec(_);)with(_.split(G))_=join(shift());eval(_)

// uncrushed
//var e=[0,0,0,0],h,l=[],m=[],p,t,u=v=0,w,L,y;setInterval(function(f,g){if(!h){w=11>++v?4+v:15;h=v;for(o=0;1>o;){o=1E5;t=[];for(g=0;g<w;++g)for(f=0;f<w;++f)l[w*g+f]=f%(w-1)&&g%(w-1)?0:-1,m[w*g+f]=[0,0];for(i=0;++i<w-8;)l[w*E(w)+E(w)]=-1;for(i=0;--o&&i<h;)if(f=E(w),g=E(w),!(8<l[w*g+f]||0>l[w*g+f]||i&&!l[w*g+f]&&E(1E3)||(k=(H=E(2)?0:2*E(2)-1)?0:2*E(2)-1,r=w*g+f,I=w*g+f-w*H-k,l[w*g+f+w*H+k]))){for(;E(10)&&0==l[w*g+f+w*H+k+w*H+k];g+=H,f+=k);p=l.slice();i||(L=f+k+k,y=g+H+H);C(f+k+k,g+H+H)&&(0<l[I]&&l[I]!=l[r]?(l[w*g+f+w*H+k]=l[r],l[r]=0):!E(5)&&i?(l[w*g+f+w*H+k]=l[r],l[r]=-1):(l[w*g+f+w*H+k]=++l[r],i++),L=f+k+k,y=g+H+H)}}for(p=l.slice();!C(f=E(w),g=E(w));p=l.slice());L=f;y=g}f=e[2]-e[i=0];g=e[3]-e[1];e[32]&&t.length&&(l=t[t.length-1][i++],m=t[t.length-1][i++],L=t[t.length-1][i++],y=t[t.length-1][i++],h=t[t.length-1][i++],t=t.slice(0,-1));l[w*g+f+w*y+L]?0<l[w*g+f+w*y+L]&&(t[t.length]=[l.slice(),m.slice(),L,y,h],m[w*g+f+w*y+L]=[g,f]):(l[w*y+L]=0,L+=f,y+=g,l[w*y+L]=-2);++u;for(g=0;g<w;++g)for(f=0;f<w;++f)m[w*g+f][0]|m[w*g+f][1]&&f%(w-1)&&g%(w-1)&&!((f+g+u/4)%2)&&(n=l[w*g+f+w*m[w*g+f][0]+m[w*g+f][1]],n==l[w*g+f]?(--h,l[w*g+f+w*m[w*g+f][0]+m[w*g+f][1]]=n-1,l[w*g+f]=0):1>n&&(l[w*g+f+w*m[w*g+f][0]+m[w*g+f][1]]=l[w*g+f],m[w*g+f+w*m[w*g+f][0]+m[w*g+f][1]]=0>n?[0,0]:m[w*g+f],l[w*g+f]=0),m[w*g+f]=[0,0]);i="<pre><big><big><big><big><big><big><big><b><center>";for(g=0;g<w;++g)for(f=0;f<w;++f)i+=0>=l[w*g+f]?".#\u263b"[-l[w*g+f]]:l[w*g+f],f==w-1&&(i+="<br>");b.innerHTML=i+v;e=[0,0,0,0]},16);C=function(f,g){return p[w*g+f]?0:f==L&&g==y?1:(p[w*g+f]=1)&C(f+1,g)|C(f-1,g)|C(f,g-1)|C(f,g+1)};b.onkeydown=function(f,g){e[f.keyCode%37]=1};E=function(f,g){return Math.floor(1E6*Math.random())%f};

</script>
</body>
</html>