<style>body{background:#111;color:#fff}</style>
Volume <input type=range id=v onchange=S()>&nbsp;&nbsp;
Speech
<input type=checkbox id=s onchange=S()>
&nbsp;&nbsp;Popups
<input type=checkbox id=p onchange=S()>
<br><br>Background
<input id=d type=color oninput=S()>&nbsp;&nbsp;
<input id=c type=color oninput=S()>&nbsp;&nbsp;
<input id=t oninput=S()>
<br><br>Filters
<script>

// filters
L=
[
    ['Default', ''],
    ['Gray',    'grayscale('],
    ['Game Boy', 'sepia()hue-rotate(40deg)contrast(.8'],
    ['Ocean',   'invert()sepia()invert('],
    ['Sepia',   'sepia('],
    ['Fruity',  'saturate(9',],
];

// add buttons for filters
for(i in L) 
    document.body.innerHTML += 
    `<button id="${j=L[i][0]}" onclick="S(OS13k.Speak('${j}'),U(f=L[${i}]))">`+j;  

// load settings
S = parent.OS13k.Settings();
v.value   = S[0] * 100;         // volume
s.checked = S[1];               // speech
c.value   = S[2];               // color 1
d.value   = S[3];               // color 2
t.value   = S[4];               // background text
p.checked = S[5];               // popups
i = L.findIndex(e=>e[0]==S[6][0]); // filter
f = L[ i < 0 ? 0 : i ];

// update if necessary
U=()=>
{
    for(i of L)
        document.getElementById(i[0]).style.border = '5px solid ' + (i[0] == f[0] ? '#999' : '#111');
}
U();

// save settings
S=()=>parent.OS13k.SaveSettings
(
    v.value/100, // volume
    s.checked,   // speech
    c.value,     // color 1
    d.value,     // color 2
    t.value,     // background text
    p.checked,   // popups
    f            // filter
);
</script>